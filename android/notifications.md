---
icon: bell
order: -1
---

# Уведомления и Пуши

Если вы сравните влияние на батарею **AyuGram** и любого другого легального клиента Telegram, вы, вероятно, увидите **разницу**, по типу **30%** против **15%**.

> Скачайте отдельную сборку с пушами FCM [здесь](https://t.me/ayugramfcm), если у вас есть Play Store.
> 
> Но стоит отметить, что эти сборки могут не работать, в зависимости от вашей прошивки и установленных сервисов Google/MicroG.
> Проверьте, работает ли эта сборка у вас, а если нет - вернитесь к оригинальной версии.
>
> По моему личному опыту, она работает даже лучше на устройствах с MicroG.
> 
> Некоторые пользователи говорят, что на устройствах с MIUI `.web` версия работает лучше.

Что ж, это из-за *того надоедливого* уведомления со смайликом в статус баре. Оно помогает **AyuGram** работать в фоне и получать обновления с сервера Telegram. Если вы отключите его (не скроете, а именно отключите опцию **AyuGram Push Service**) в настройках, скорее всего, ваша система убьет приложение. Подробнее об этой проблеме вы можете прочитать [здесь](https://dontkillmyapp.com/).

Вы спросите: *если другие клиенты получают пуши, не работая в фоне, то почему **AyuGram** не может так делать?*

Всему виной **Firebase Cloud Messaging**. Это служба, которая поддерживает фоновое соединение со **службами Google** и получает от них обновления, даже если приложение закрыто. Но его работа требует правильной настройки. Для этого нужно иметь доступ к странице разрабочика приложения Telegram и предоставить ключи для работы FCM. *Но вы же не забыли, что мы используем официальные ключи и не можем получить к нему доступ?*

В FCM есть что-то вроде **проверки приложения**, которое запрашивает токен для получения пушей. Короче говоря, он проверяет **подпись** и **имя пакета**.

И *на самом деле*, мы обошли обе проверки. **Но вы должны использовать другую сборку AyuGram**, с оригинальным именем пакета.

Говоря об имени пакета, есть **два** разных APK с разными именами пакетов. Первый — `org.telegram.messenge`, который выдает себя за Telegram из **Play Store**, второй — `org.telegram.messenger.web`, который выдает себя за Telegram с **[официального сайта](https://telegram.org/android)**. Это сделано для того, чтобы можно было одновременно установить **AyuGram** и ванильный Telegram на одно устройство.

Например, если вы скачаете **AyuGram** с именем пакета `org.telegram.messenger.web`, вы сможете загрузить ванильный Telegram из **Play Store** и получать для него обновления.

!!! Если расход батареи по-прежнему высокий
Отключите `Перезапуск при закрытии` и/или `Фоновое соединение` в разделе Уведомления и звуки. Перепроверьте, нормально ли приходят уведомления и/или тратится заряд батареи.
!!!
